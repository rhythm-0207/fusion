<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="/images/favicon-enhanced.png" />
  <link rel="stylesheet" href="login.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css" />
  <style>
    
    /* Custom CSS for alert messages */
    .alert {
      display: none;
      position: fixed;
      top: 10%;
      left: 50%;
      transform: translate(-50%, -50%);
      padding: 20px;
      background-color: #4caf50;
      color: white;
      text-align: center;
      border-radius: 6px;
      box-shadow: 0px 0px 10px 0px #262626;
      opacity: 0.8;
      transition: all 0.3s ease-in-out;
      z-index: 1;
    }

    #emptyFieldsAlert {
      background-color: red;
    }
    
    input[type="password"]::-webkit-credentials-auto-fill-button,
    input[type="password"]::-webkit-contacts-auto-fill-button,
    input[type="password"]::-ms-reveal {
        display: none;
      }
  </style>
  <title>RuralRevive - Login</title>
</head>
  <body onload="myfunction()">
    <div id="load">
      <div
        style="
          background-color: white;
          height: 25vh;
          width: 100%;
          position: relative;
          top: -70px;
        "></div>
  </div>

  <div class="alert" id="emptyFieldsAlert" style="display: none">
    Please fill in all fields!
  </div>
  <img src="talking.png" alt="" />
  <div class="login">
    <div class="welcome">
      <h1 class="titletext">Welcome Back &#x1F917</h1>
      <span>Please enter your details.</span>
    </div>
    <div class="inputs">
      <span>Email<br /></span>
      <input class="inputbox" placeholder="Enter your email" id="loginEmail" /><br />
      <span>Password<br /></span>
      <input type="password" class="inputbox" placeholder="••••••••" id="loginPassword" />
      <i class="fas fa-eye-slash" id="toggleLoginPassword" style="margin-left: -30px; cursor: pointer;"></i>
    </div>
    <div class="forgotpass" o>
      <span>Forgot Password</span>
    </div>
    <p class="back"><a class="tag" href="index.html">&#8592; Back</a></p>
    <div class="button" >
      <input type="button" class="signin" value="Sign in" id="loginButton"/>
    </div>
    <div class="signupline">
      <span>Don't have an account?</span>
      <span class="signupbutton" > Sign up</span>
    </div>
  </div>
  <div class="register">
    <div class="welcome">
      <h1 class="titletext">Create an account</h1>
      <span>Let's get started.</span>
    </div>
    <div class="inputs">
      
      <span>Email<br /></span>
      <input class="inputbox" placeholder="Enter your email" id="signupEmail" /><br />
      <span>Password<br /></span>
      <input type="password" class="inputbox" placeholder="••••••••" id="signupPassword" />
      <i class="fas fa-eye-slash" id="toggleSignupPassword" style="margin-left: -30px; cursor: pointer;"></i>
    </div>
    <p class="back-1"><a class="tag1" href="../index.html">&#8592; Back</a></p>
    <div class="button">
      <input type="button" class="signin" value="Sign up" id="signupButton" />
    </div>
    <div class="signupline">
      <span>Already have an account?</span>
      <span class="signinbutton" > Sign in</span>
    </div>
  </div>

  <!-- Alert messages -->
  <div class="alert" id="loginAlert">Sign in successful!</div>
  <div class="alert" id="signupAlert">Sign up successful!</div>

  <script>
    
    
    document.getElementById('loginButton').addEventListener('click', function() {
    var email = document.getElementById("loginEmail").value;
    var pass = document.getElementById("loginPassword").value;
    var button = document.getElementById("loginButton").value;
    
    if (email && pass && button) {
                alert("Successfull login!")
                window.location.href = 'option.html'; 
            } else {
                alert('Please fill in all fields');
            }
    
    });
    
    const signin_btn = document.querySelector(".signinbutton");
    const signup_btn = document.querySelector(".signupbutton");
    const register = document.querySelector(".register");
    const login = document.querySelector(".login");
    signup_btn.addEventListener("click", () => {
      register.style.display = "block";
      login.style.display = "none";
    });
    signin_btn.addEventListener("click", () => {
      register.style.display = "none";
      login.style.display = "block";
    });
    loginButton.addEventListener("click", () => {
      const emailInput = document.getElementById("loginEmail");
      const passwordInput = document.getElementById("loginPassword");
      const loginAlert = document.getElementById("loginAlert");
      if (emailInput.value.trim() === "" || passwordInput.value.trim() === "") {
        const emptyFieldsAlert = document.getElementById("emptyFieldsAlert");
        emptyFieldsAlert.style.display = "block";
        setTimeout(() => {
          emptyFieldsAlert.style.display = "none";
        }, 3000);
      } else {
        emailInput.value = ""; // Clear email input
        passwordInput.value = ""; // Clear password input

        loginAlert.style.display = "block";
        setTimeout(() => {
          loginAlert.style.display = "none";
        }, 3000);
      }
    });
    document.getElementById('signupButton').addEventListener('click', function() {
    // Get the input values
    var email = document.getElementById('signupEmail').value;
    var password = document.getElementById('signupPassword').value;

    if (email && password) {
        // Store the details (for simplicity, just logging here)
        console.log("Email:", email);
        console.log("Password:", password);

        // You can do more with this data, like sending it to a server or storing in local storage
    } else {
        // If either name or email is empty, show an alert
        alert("Please enter both name and email");
    }
  });
    
    signupButton.addEventListener("click", () => {
      
      const emailInput = document.getElementById("signupEmail");
      const passwordInput = document.getElementById("signupPassword");
      const signupAlert = document.getElementById("signupAlert");

      if (
       
        emailInput.value.trim() === "" ||
        passwordInput.value.trim() === ""
      ) {
        const emptyFieldsAlert = document.getElementById("emptyFieldsAlert");
        emptyFieldsAlert.style.display = "block";
        setTimeout(() => {
          emptyFieldsAlert.style.display = "none";
        }, 3000);
      } else {
       // Clear username input
        emailInput.value = ""; // Clear email input
        passwordInput.value = ""; // Clear password input

        signupAlert.style.display = "block";
        setTimeout(() => {
          signupAlert.style.display = "none";
        }, 3000);
      }
    });

  </script>
  <script>
    const preloader = document.getElementById("load");
    function myfunction() {
      preloader.style.display = "none";
    }
    const toggleLoginPassword = document.querySelector("#toggleLoginPassword");
    const loginPassword = document.getElementById("loginPassword");

    toggleLoginPassword.addEventListener("click", function (e) {

      if(loginPassword.type == "text"){
        loginPassword.type = "password";
        toggleLoginPassword.className = "fas fa-eye-slash";
      }
      else if(loginPassword.type == "password"){
        loginPassword.type = "text";
        toggleLoginPassword.className = "fas fa-eye";
      }
    });

    const toggleSignupPassword = document.querySelector("#toggleSignupPassword");
    const signupPassword = document.getElementById("signupPassword");

    toggleSignupPassword.addEventListener("click", function (e) {

      if(signupPassword.type == "text"){
        signupPassword.type = "password";
        toggleSignupPassword.className = "fas fa-eye-slash";
      }
      else if(signupPassword.type == "password"){
        signupPassword.type = "text";
        toggleSignupPassword.className = "fas fa-eye";
      }
    });

const express = require('express');
const bodyParser = require('body-parser');
const app = express();
const PORT = 3000;

app.use(bodyParser.json());

// Endpoint for handling login requests
app.post('/login', (req, res) => {
    const { email, password } = req.body;
    // Here you would perform authentication, e.g., check if email/password is valid
    // If authentication is successful, you might respond with a success message or a token
    // If authentication fails, respond with an error message
});

// Endpoint for handling signup requests
app.post('/signup', (req, res) => {
    const { email, password } = req.body;
    // Here you would handle user registration, e.g., store the email/password in a database
    // Respond with a success message if registration is successful, or an error message if it fails
});

app.listen(PORT, () => {
    console.log(`Server is running on port ${PORT}`);
});
document.getElementById('loginButton').addEventListener('click', () => {
    const emailInput = document.getElementById("loginEmail").value;
    const passwordInput = document.getElementById("loginPassword").value;

    fetch('/login', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({
            email: emailInput,
            password: passwordInput
        })
    })
    .then(response => response.json())
    .then(data => {
        // Handle response from server (success or error)
    })
    .catch(error => console.error('Error:', error));
});
  </script>

</body>
</html>